{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/environments/environment.ts","./src/main.ts","./src/model/Node.ts","./src/model/Point.ts","./src/model/Segment.ts","./src/util/Library.ts","./src/util/OldStateChecker.ts","./src/util/RenderUtil.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import {Component, OnInit} from '@angular/core';\nimport {Node} from '../model/Node';\nimport {Segment} from '../model/Segment';\nimport {Title} from \"@angular/platform-browser\";\nimport {RenderUtil} from \"../util/RenderUtil\";\nimport {Library} from \"../util/Library\";\nimport {OldStateChecker} from \"../util/OldStateChecker\";\nimport {Point} from \"../model/Point\";\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n\n  constructor(titleService: Title) {\n    titleService.setTitle('Blue Circle');\n  }\n\n  ngOnInit(): void {\n\n    const m: number = Math.min(window.innerWidth, window.innerHeight) - 4;\n    const r: number = (m - 52.0) / 2.0; // radius\n\n    const center: Point = new Point(m / 2, m / 2);\n    const nodes: Node[] = [];\n    const segments: Segment[] = [];\n    const N = 17; // how many dots to draw\n\n    const oldState: OldStateChecker = new OldStateChecker();\n\n    let currentHover: Node;\n\n    for (let i = 0; i < N; i++) {\n      const phi: number = 2 * i * Math.PI * (1.0 / N);\n      const x: number = center.x + r * Math.cos(phi);\n      const y: number = center.y - r * Math.sin(phi);\n      nodes.push(new Node(i + 1, x, y));\n    }\n\n    const canvas: HTMLCanvasElement = <HTMLCanvasElement>document.getElementById('canvas');\n    const renderUtil = new RenderUtil(nodes, canvas);\n    canvas.width = m;\n    canvas.height = m;\n    renderUtil.renderHover(undefined);\n\n    function onMouseMove(e: MouseEvent): void {\n      const hover: Node = findHover(e, findActive());\n      if (hover === currentHover) {\n        return;\n      }\n      currentHover = hover;\n      renderUtil.renderHover(currentHover);\n    }\n\n    canvas.onmousemove = onMouseMove;\n    canvas.onmouseout = function () {\n      currentHover = undefined;\n      renderUtil.renderHover(currentHover);\n    };\n\n    function findActive(): Node {\n      for (let r of nodes) {\n        if (r.active() !== 0) {\n          return r;\n        }\n      }\n      return undefined;\n    }\n\n    function findHover(e: MouseEvent, active: Node): Node {\n      // important: correct mouse position:\n      const rect: DOMRect = canvas.getBoundingClientRect();\n      const x: number = e.clientX - rect.left;\n      const y: number = e.clientY - rect.top;\n      if (active === undefined) {\n        if (center.dist(x, y) < Library.R + 6) {\n          return undefined;\n        }\n        return findHoverByAngle(x, y, center);\n      }\n      if (active.dist(x, y) < Library.R + 6) {\n        return active;\n      }\n      return findHoverByAngle(x, y, active.point())\n    }\n\n    function findHoverByAngle(x: number, y: number, active: Point): Node {\n      const angle = active.angle(x, y);\n      let bestP: Node = undefined;\n      let bestD: number = 100;\n      for (let node of nodes) {\n        if (active === node.point()) {\n          continue;\n        }\n        const d: number = Math.abs(angle - active.angle(node.x(), node.y()));\n        if (d < bestD) {\n          bestD = d;\n          bestP = node;\n        }\n      }\n      return bestP;\n    }\n\n    function findSegment(a, b): number {\n      for (let i = 0; i < segments.length; i++) {\n        let segment: Segment = segments[i];\n        if ((segment.a === a && segment.b === b) || (segment.a === b && segment.b === a)) {\n          return i;\n        }\n      }\n      return undefined;\n    }\n\n    canvas.onmouseup = function (e: MouseEvent) {\n\n      const active: Node = findActive();\n      const hover: Node = findHover(e, active);\n\n      if (!hover) {\n        for (let point of nodes) {\n          point.setActive(0);\n        }\n        currentHover = undefined;\n        renderUtil.renderHover(currentHover);\n        return;\n      }\n\n      if (active === hover || !active) {\n        hover.incActive();\n        if (hover.active() !== 0) {\n          const rect: DOMRect = canvas.getBoundingClientRect();\n          const x: number = e.clientX - rect.left;\n          const y: number = e.clientY - rect.top;\n          currentHover = findHoverByAngle(x, y, hover.point());\n          renderUtil.renderHover(currentHover);\n        }\n        currentHover = undefined;\n        onMouseMove(e);\n        return;\n      }\n\n      const i: number = findSegment(active, hover);\n      if (i !== undefined) {\n        oldState.push(segments[i]);\n        segments.splice(i, 1);\n        active.maybeDeactivate();\n      } else {\n        const t = new Segment(active, hover);\n        if (oldState.isRepetition(t)) {\n          t.flipYellow();\n          oldState.clear();\n        } else {\n          t.simpleFlip();\n          oldState.push(t);\n        }\n        segments.push(t);\n      }\n      segments.sort((s, t) => {\n        const da = s.a.i - t.a.i;\n        if (da !== 0) {\n          return da;\n        }\n        return s.b.i - t.b.i;\n      });\n      renderUtil.render(segments);\n      currentHover = undefined;\n      onMouseMove(e);\n    }\n  }\n}\n","<div class=\"container\">\n  <div id=\"controls\">\n    <table id=\"segments\"></table>\n  </div>\n  <canvas id=\"canvas\">Canvas not supported</canvas>\n</div>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","import {Point} from \"./Point\";\n\nexport class Node {\n\n  readonly i: number;\n  readonly #p: Point;\n  #active: number = 0;\n\n  constructor(i: number, x: number, y: number) {\n    this.i = i;\n    this.#p = new Point(x, y);\n  }\n\n  active(): number {\n    return this.#active;\n  }\n\n  incActive(): void {\n    this.#active += 1;\n    this.#active = this.#active % 3;\n  }\n\n  maybeDeactivate(): void {\n    if (this.#active === 1) {\n      this.#active = 0;\n    }\n  }\n\n  setActive(active: number): void {\n    this.#active = active;\n  }\n\n  dist(x: number, y: number): number {\n    return this.#p.dist(x, y);\n  }\n\n  x(): number {\n    return this.#p.x;\n  }\n\n  y(): number {\n    return this.#p.y;\n  }\n\n  point(): Point {\n    return this.#p;\n  }\n}\n\n","export class Point {\n\n  readonly x: number;\n  readonly y: number;\n\n  constructor(x: number, y: number) {\n    this.x = x;\n    this.y = y;\n  }\n\n  dist(x: number, y: number): number {\n    return Math.sqrt((x - this.x) * (x - this.x) + (y - this.y) * (y - this.y))\n  }\n\n  angle(x: number, y: number): number {\n    return Math.atan2(this.y - y, this.x - x);\n  }\n}\n\n","import {Node} from \"./Node\";\n\nexport class Segment {\n\n  a: Node;\n  b: Node;\n\n  constructor(a: Node, b: Node) {\n    if (a.i > b.i) {\n      this.a = b;\n      this.b = a;\n    } else {\n      this.a = a;\n      this.b = b;\n    }\n  }\n\n  flipYellow(): void {\n    const active: Node = this.a.active() !== 0 ? this.a : this.b;\n    const inactive: Node = active === this.a ? this.b : this.a;\n    if (active.active() === 2) {\n      active.setActive(0);\n      inactive.setActive(2);\n      return;\n    }\n    active.setActive(2);\n    inactive.setActive(0);\n  }\n\n  simpleFlip(): void {\n    const active: Node = this.a.active() !== 0 ? this.a : this.b;\n    if (active.active() === 2) {\n      return;\n    }\n    const inactive: Node = active === this.a ? this.b : this.a;\n    inactive.setActive(active.active());\n    active.setActive(0);\n    return;\n  }\n\n  equals(s: Segment): boolean {\n    if (!s) {\n      return false;\n    }\n    return s.a === this.a && s.b === this.b;\n  }\n}\n","export class Library {\n\n  public static readonly R = 20; // node radius\n}\n","import {Segment} from \"../model/Segment\";\n\nexport class OldStateChecker {\n\n  old: Segment;\n  veryOld: Segment;\n\n  push(t: Segment): void {\n    this.veryOld = this.old;\n    this.old = t;\n  }\n\n  isRepetition(t: Segment): boolean {\n    return t.equals(this.old) && this.old.equals(this.veryOld);\n  }\n\n  clear(): void {\n    this.old = undefined;\n    this.veryOld = undefined;\n  }\n}\n","import {Node} from \"../model/Node\";\nimport {Segment} from \"../model/Segment\";\nimport {Library} from \"./Library\";\n\nconst color_inactive: string = \"#000000\";\nconst color_active2: string = \"yellow\";\nconst color_active: string = \"red\";\nconst color_hover: string = \"blue\";\n\nconst tau = 2 * Math.PI;\n\nexport class RenderUtil {\n\n  points: Node[];\n  canvas: HTMLCanvasElement;\n\n  constructor(points: Node[], canvas: HTMLCanvasElement) {\n    this.points = points;\n    this.canvas = canvas;\n  }\n\n  render(segments: Segment[]): void {\n    const ctx: CanvasRenderingContext2D = this.canvas.getContext(\"2d\");\n    const s = document.getElementById(\"segments\");\n\n    ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    s.innerHTML = \"\";\n\n    for (let segment of segments) {\n      ctx.beginPath();\n      ctx.strokeStyle = '#faebd7';\n      ctx.lineWidth = 1.5;\n      ctx.moveTo(segment.a.x(), segment.a.y());\n      ctx.lineTo(segment.b.x(), segment.b.y());\n      ctx.stroke();\n      const div: HTMLElement = document.createElement(\"tr\");\n      div.innerHTML = \"<td>\" + segment.a.i + \"</td><td>\" + segment.b.i + \"</td>\";\n      s.appendChild(div);\n    }\n    this.renderHover(undefined);\n  }\n\n  renderHover(hover: Node): void {\n    const ctx: CanvasRenderingContext2D = this.canvas.getContext(\"2d\");\n    for (let r of this.points) {\n      ctx.beginPath();\n      ctx.arc(r.x(), r.y(), Library.R, 0, tau);\n      ctx.fillStyle = r.active() === 2 ? color_active2 : r.active() === 1 ? color_active : r === hover ? color_hover : color_inactive;\n      ctx.fill();\n      ctx.font = \"12px Arial\";\n      ctx.fillStyle = r.active() === 2 ? \"#000000\" : \"#ffffff\";\n      let number = r.i < 10 ? 4 : 7;\n      ctx.fillText(\"\" + r.i, r.x() - number, r.y() + 5);\n    }\n  }\n}\n"],"sourceRoot":"webpack:///"}