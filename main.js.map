{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/environments/environment.ts","./src/main.ts","./src/model/Point.ts","./src/model/Segment.ts","./src/util/Library.ts","./src/util/OldStateChecker.ts","./src/util/RenderUtil.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import {Component, OnInit} from '@angular/core';\nimport {Point} from '../model/Point';\nimport {Segment} from '../model/Segment';\nimport {Title} from \"@angular/platform-browser\";\nimport {RenderUtil} from \"../util/RenderUtil\";\nimport {Library} from \"../util/Library\";\nimport {OldStateChecker} from \"../util/OldStateChecker\";\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n\n  constructor(titleService: Title) {\n    titleService.setTitle('Blue Circle');\n  }\n\n  ngOnInit(): void {\n\n    const m: number = Math.min(window.innerWidth, window.innerHeight);\n    const w: number = m - 4.0;\n    const h: number = m - 4.0;\n    const r: number = (Math.min(w, h) - 52.0) / 2.0; // radius\n\n    const x0: number = w / 2;\n    const y0: number = h / 2;\n    const points: Point[] = [];\n    const segments: Segment[] = [];\n    const N = 17; // how many dots to draw\n\n    const oldState: OldStateChecker = new OldStateChecker();\n\n    let currentHover: Point;\n\n    for (let i = 0; i < N; i++) {\n      const phi: number = 2 * i * Math.PI * (1.0 / N);\n      const x: number = x0 + r * Math.cos(phi);\n      const y = y0 - r * Math.sin(phi);\n      points.push(new Point(i + 1, x, y));\n    }\n\n    const canvas: HTMLCanvasElement = <HTMLCanvasElement>document.getElementById('canvas');\n    const renderUtil = new RenderUtil(points, canvas);\n    canvas.width = w;\n    canvas.height = h;\n    renderUtil.renderHover(undefined);\n\n    function onMouseMove(e: MouseEvent): void {\n      const hover: Point = findHover(e, findActive());\n      if (hover === currentHover) {\n        return;\n      }\n      currentHover = hover;\n      renderUtil.renderHover(currentHover);\n    }\n\n    canvas.onmousemove = onMouseMove;\n    canvas.onmouseout = function () {\n      currentHover = undefined;\n      renderUtil.renderHover(currentHover);\n    };\n\n    function findActive(): Point {\n      for (let r of points) {\n        if (r.active() !== 0) {\n          return r;\n        }\n      }\n      return undefined;\n    }\n\n    function findHover(e: MouseEvent, active: Point): Point {\n      // important: correct mouse position:\n      const rect: DOMRect = canvas.getBoundingClientRect();\n      const x: number = e.clientX - rect.left;\n      const y: number = e.clientY - rect.top;\n      if (active === undefined || active.dist(x, y) < Library.R + 6) {\n        return findHoverByDistance(x, y);\n      } else {\n        return findHoverByAngle(x, y, active)\n      }\n    }\n\n    function findHoverByAngle(x: number, y: number, active: Point): Point {\n      const angle = active.angle(x, y);\n      let bestP: Point = undefined;\n      let bestD: number = 100;\n      for (let p of points) {\n        if (active === p) {\n          continue;\n        }\n        const d: number = Math.abs(angle - active.angle(p.x, p.y));\n        if (d < bestD) {\n          bestD = d;\n          bestP = p;\n        }\n      }\n      return bestP;\n    }\n\n    function findHoverByDistance(x: number, y: number): Point {\n      let bestP: Point = undefined;\n      let bestD: number = r / 2;\n      for (let p of points) {\n        const d: number = p.dist(x, y);\n        if (d < bestD) {\n          bestD = d;\n          bestP = p;\n        }\n      }\n      if (bestD >= r / 2) {\n        return undefined;\n      }\n      return bestP;\n    }\n\n    function findSegment(a, b): number {\n      for (let i = 0; i < segments.length; i++) {\n        let segment: Segment = segments[i];\n        if ((segment.a === a && segment.b === b) || (segment.a === b && segment.b === a)) {\n          return i;\n        }\n      }\n      return undefined;\n    }\n\n    canvas.onmouseup = function (e: MouseEvent) {\n\n      const active: Point = findActive();\n      const hover: Point = findHover(e, active);\n\n      if (!hover) {\n        for (let point of points) {\n          point.forceDeactivate();\n        }\n        currentHover = undefined;\n        renderUtil.renderHover(currentHover);\n        return;\n      }\n\n      if (active === hover || !active) {\n        hover.incActive();\n        currentHover = hover;\n        renderUtil.renderHover(currentHover);\n        return;\n      }\n\n      const i: number = findSegment(active, hover);\n      if (i !== undefined) {\n        oldState.push(segments[i]);\n        segments.splice(i, 1);\n      } else {\n        const t = new Segment(active, hover);\n        if (oldState.isRepetition(t)) {\n          t.flip();\n          oldState.clear();\n        }\n        segments.push(t);\n        oldState.push(t);\n      }\n      segments.sort((s, t) => {\n        const da = s.a.i - t.a.i;\n        if (da !== 0) {\n          return da;\n        }\n        return s.b.i - t.b.i;\n      });\n      active.maybeDeactivate();\n      renderUtil.render(segments);\n      onMouseMove(e);\n    }\n  }\n}\n","<div class=\"container\">\n  <div id=\"controls\">\n    <table id=\"segments\"></table>\n  </div>\n  <canvas id=\"canvas\">Canvas not supported</canvas>\n</div>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","export class Point {\n\n  i: number;\n  x: number;\n  y: number;\n  #active: number = 0;\n\n  constructor(i, x, y) {\n    this.i = i;\n    this.x = x;\n    this.y = y;\n  }\n\n  active() {\n    return this.#active;\n  }\n\n  incActive() {\n    this.#active += 1;\n    this.#active = this.#active % 3;\n  }\n\n  maybeDeactivate() {\n    if (this.#active === 1) {\n      this.#active = 0;\n    }\n  }\n\n  forceDeactivate() {\n    this.#active = 0;\n  }\n\n  dist(x: number, y: number): number {\n    return Math.sqrt((x - this.x) * (x - this.x) + (y - this.y) * (y - this.y))\n  }\n\n  angle(x: number, y: number): number {\n    return Math.atan2(this.y - y, this.x - x);\n  }\n}\n\n","import {Point} from \"./Point\";\n\nexport class Segment {\n\n  a: Point;\n  b: Point;\n\n  constructor(a: Point, b: Point) {\n    if (a.i > b.i) {\n      this.a = b;\n      this.b = a;\n    } else {\n      this.a = a;\n      this.b = b;\n    }\n  }\n\n  flip(): void {\n    const active: Point = this.a.active() === 2 ? this.a : this.b;\n    if (active.active() !== 2) {\n      return;\n    }\n    const inactive: Point = active === this.a ? this.b : this.a;\n    active.forceDeactivate();\n    inactive.incActive();\n    inactive.incActive();\n  }\n\n  equals(s: Segment): boolean {\n    if (!s) {\n      return false;\n    }\n    return s.a === this.a && s.b === this.b;\n  }\n}\n","export class Library {\n\n  public static readonly R = 20; // node radius\n}\n","import {Segment} from \"../model/Segment\";\n\nexport class OldStateChecker {\n\n  old: Segment;\n  veryOld: Segment;\n\n  push(t: Segment): void {\n    this.veryOld = this.old;\n    this.old = t;\n  }\n\n  isRepetition(t: Segment): boolean {\n    return t.equals(this.old) && this.old.equals(this.veryOld);\n  }\n\n  clear(): void {\n    this.old = undefined;\n    this.veryOld = undefined;\n  }\n}\n","import {Point} from \"../model/Point\";\nimport {Segment} from \"../model/Segment\";\nimport {Library} from \"./Library\";\n\nconst color_inactive: string = \"#000000\";\nconst color_active2: string = \"yellow\";\nconst color_active: string = \"red\";\nconst color_hover: string = \"blue\";\n\nconst tau = 2 * Math.PI;\n\nexport class RenderUtil {\n\n  points: Point[];\n  canvas: HTMLCanvasElement;\n\n  constructor(points: Point[], canvas: HTMLCanvasElement) {\n    this.points = points;\n    this.canvas = canvas;\n  }\n\n  render(segments: Segment[]): void {\n    const ctx: CanvasRenderingContext2D = this.canvas.getContext(\"2d\");\n    const s = document.getElementById(\"segments\");\n\n    ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    s.innerHTML = \"\";\n\n    for (let segment of segments) {\n      ctx.beginPath();\n      ctx.strokeStyle = '#faebd7';\n      ctx.lineWidth = 1.5;\n      ctx.moveTo(segment.a.x, segment.a.y);\n      ctx.lineTo(segment.b.x, segment.b.y);\n      ctx.stroke();\n      const div: HTMLElement = document.createElement(\"tr\");\n      div.innerHTML = \"<td>\" + segment.a.i + \"</td><td>\" + segment.b.i + \"</td>\";\n      s.appendChild(div);\n    }\n    this.renderHover(undefined);\n  }\n\n  renderHover(hover: Point): void {\n    const ctx: CanvasRenderingContext2D = this.canvas.getContext(\"2d\");\n    for (let r of this.points) {\n      ctx.beginPath();\n      ctx.arc(r.x, r.y, Library.R, 0, tau);\n      ctx.fillStyle = r.active() === 2 ? color_active2 : r.active() === 1 ? color_active : r === hover ? color_hover : color_inactive;\n      ctx.fill();\n      ctx.font = \"12px Arial\";\n      ctx.fillStyle = r.active() === 2 ? \"#000000\" : \"#ffffff\";\n      let number = r.i < 10 ? 4 : 7;\n      ctx.fillText(\"\" + r.i, r.x - number, r.y + 5);\n    }\n  }\n}\n"],"sourceRoot":"webpack:///"}