{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/environments/environment.ts","./src/main.ts","./src/model/Graph.ts","./src/model/Node.ts","./src/model/Point.ts","./src/model/Segment.ts","./src/util/Library.ts","./src/util/OldStateChecker.ts","./src/util/RenderUtil.ts","./src/util/State.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import {Component, OnInit} from '@angular/core';\nimport {Node} from '../model/Node';\nimport {Segment} from '../model/Segment';\nimport {RenderUtil} from \"../util/RenderUtil\";\nimport {Library} from \"../util/Library\";\nimport {OldStateChecker} from \"../util/OldStateChecker\";\nimport {Point} from \"../model/Point\";\nimport {State} from \"../util/State\";\nimport {Graph} from \"../model/Graph\";\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n\n  ngOnInit(): void {\n\n    const m: number = Math.min(window.innerWidth, window.innerHeight) - 4;\n    const r: number = (m - 52.0) / 2.0; // radius\n\n    const center: Point = new Point(m / 2, m / 2);\n    const nodes: Node[] = [];\n    const N = 17; // how many dots to draw\n    const graph: Graph = new Graph(N);\n\n    const oldState: OldStateChecker = new OldStateChecker();\n\n    let currentHover: Node;\n\n    for (let i = 0; i < N; i++) {\n      const phi: number = 2 * i * Math.PI * (1.0 / N);\n      const x: number = center.x + r * Math.cos(phi);\n      const y: number = center.y - r * Math.sin(phi);\n      nodes.push(new Node(i, x, y));\n    }\n\n    const state: State = new State(nodes);\n\n    const canvas: HTMLCanvasElement = <HTMLCanvasElement>document.getElementById('canvas');\n    const actionButton: HTMLButtonElement = <HTMLButtonElement>document.getElementById('action-button');\n    actionButton.onclick = function (e: MouseEvent) {\n      state.deleteMode = !state.deleteMode;\n      actionButton.textContent = state.deleteMode ? 'Now deleting edges' : 'Now creating edges';\n      actionButton.setAttribute('class', state.deleteMode ? 'deleteState' : 'createState');\n      e.preventDefault();\n    };\n    canvas.width = m;\n    canvas.height = m;\n    const ctx: CanvasRenderingContext2D = canvas.getContext('2d');\n    for (let r of nodes) {\n      Library.renderNode(r, 0, false, ctx);\n    }\n\n    const imageData: ImageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    const renderUtil = new RenderUtil(nodes, canvas, imageData, state, graph);\n\n    function onMouseMove(e: MouseEvent): void {\n      const hover: Node = findHover(e, state.activeNode());\n      if (hover === currentHover) {\n        return;\n      }\n      currentHover = hover;\n      renderUtil.render(graph, currentHover);\n    }\n\n    canvas.onmousemove = onMouseMove;\n    canvas.onmouseout = function () {\n      currentHover = undefined;\n      renderUtil.render(graph, currentHover);\n    };\n\n    function findHover(e: MouseEvent, active: Node): Node {\n      // important: correct mouse position:\n      const rect: DOMRect = canvas.getBoundingClientRect();\n      const x: number = e.clientX - rect.left;\n      const y: number = e.clientY - rect.top;\n      if (active === undefined) {\n        if (center.dist(x, y) < Library.R + 6) {\n          return undefined;\n        }\n        return findHoverByAngle(x, y, center);\n      }\n      if (active.dist(x, y) < Library.R + 6) {\n        return active;\n      }\n      return findHoverByAngle(x, y, active.point())\n    }\n\n    function findHoverByAngle(x: number, y: number, active: Point): Node {\n      const angle = active.angle(x, y);\n      let bestP: Node = undefined;\n      let bestD: number = 100;\n      for (let node of nodes) {\n        if (active === node.point()) {\n          continue;\n        }\n        const d: number = Math.abs(angle - active.angle(node.x(), node.y()));\n        if (d < bestD) {\n          bestD = d;\n          bestP = node;\n        }\n      }\n      return bestP;\n    }\n\n    canvas.onmouseup = function (e: MouseEvent) {\n\n      const active: Node = state.activeNode();\n      const hover: Node = findHover(e, active);\n\n      if (!hover) {\n        state.setActiveNode(undefined);\n        currentHover = undefined;\n        renderUtil.render(graph, currentHover);\n        return;\n      }\n\n      if (active === hover || !active) {\n        state.incActive();\n        state.setActiveNode(hover);\n        if (state.activeLevel() !== 0) {\n          const rect: DOMRect = canvas.getBoundingClientRect();\n          const x: number = e.clientX - rect.left;\n          const y: number = e.clientY - rect.top;\n          currentHover = findHoverByAngle(x, y, hover.point());\n          renderUtil.render(graph, currentHover);\n        }\n        currentHover = undefined;\n        onMouseMove(e);\n        return;\n      }\n\n      const segmentExists: boolean = graph.hasSegment(active.i, hover.i);\n      if (state.deleteMode) {\n        if (segmentExists) {\n          oldState.push(new Segment(active, hover));\n          graph.removeSegment(active.i, hover.i);\n          state.maybeDeactivate();\n        }\n      } else {\n        if (!segmentExists) {\n          const t = new Segment(active, hover);\n          if (oldState.isRepetition(t)) {\n            state.flipYellow(t);\n            oldState.clear();\n          } else {\n            state.simpleFlip(t);\n            oldState.push(t);\n          }\n          graph.addSegment(active.i, hover.i);\n        }\n      }\n      currentHover = undefined;\n      onMouseMove(e);\n    }\n  }\n}\n","<div class=\"container\">\n  <div id=\"controls\">\n    <table id=\"segments\"></table>\n  </div>\n  <canvas id=\"canvas\">Canvas not supported</canvas>\n  <div id=\"buttons\"><a id=\"action-button\" class=\"createState\" href=\"#\">Now creating edges</a></div>\n</div>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","export class Graph {\n\n  private readonly segments: number[][];\n\n  constructor(N: number) {\n    this.segments = [];\n    for (let i = 0; i < N; i++) {\n      let items = [];\n      for (let j = 0; j < N - 1; j++) {\n        items.push(0);\n      }\n      this.segments.push(items);\n    }\n  }\n\n  addSegment(i: number, j: number): void {\n    this.set(i, j, 1);\n  }\n\n  removeSegment(i: number, j: number): void {\n    this.set(i, j, 0);\n  }\n\n  forEach(f: (x: number, y: number) => void): void {\n    for (let i = 0; i < this.segments.length; i++) {\n      const items = this.segments[i];\n      for (let j = 0; j < items.length; j++) {\n        const item = items[j];\n        if (item !== 0) {\n          f.call(undefined, i, j);\n        }\n      }\n    }\n  }\n\n  hasSegment(i: number, j: number): boolean {\n    if (i === j) {\n      return false;\n    }\n    if (i < j) {\n      return this.segments[j][i] !== 0;\n    }\n    return this.segments[i][j] !== 0;\n  }\n\n  private set(i: number, j: number, data: number): void {\n    if (i === j) {\n      return;\n    }\n    if (i < j) {\n      this.segments[j][i] = data;\n    } else {\n      this.segments[i][j] = data;\n    }\n  }\n}\n","import {Point} from \"./Point\";\n\nexport class Node {\n\n  readonly i: number;\n  readonly #p: Point;\n\n  constructor(i: number, x: number, y: number) {\n    this.i = i;\n    this.#p = new Point(x, y);\n  }\n\n  dist(x: number, y: number): number {\n    return this.#p.dist(x, y);\n  }\n\n  x(): number {\n    return this.#p.x;\n  }\n\n  y(): number {\n    return this.#p.y;\n  }\n\n  point(): Point {\n    return this.#p;\n  }\n}\n\n","export class Point {\n\n  readonly x: number;\n  readonly y: number;\n\n  constructor(x: number, y: number) {\n    this.x = x;\n    this.y = y;\n  }\n\n  dist(x: number, y: number): number {\n    return Math.sqrt((x - this.x) * (x - this.x) + (y - this.y) * (y - this.y))\n  }\n\n  angle(x: number, y: number): number {\n    return Math.atan2(this.y - y, this.x - x);\n  }\n}\n\n","import {Node} from \"./Node\";\n\nexport class Segment {\n\n  a: Node;\n  b: Node;\n\n  constructor(a: Node, b: Node) {\n    if (a.i > b.i) {\n      this.a = b;\n      this.b = a;\n    } else {\n      this.a = a;\n      this.b = b;\n    }\n  }\n\n  equals(s: Segment): boolean {\n    if (!s) {\n      return false;\n    }\n    return s.a === this.a && s.b === this.b;\n  }\n}\n","import {Node} from \"../model/Node\";\n\nexport class Library {\n\n  public static readonly tau: number = 2 * Math.PI;\n  public static readonly color_inactive: string = \"#000000\";\n  public static readonly color_active2: string = \"yellow\";\n  public static readonly color_active: string = \"red\";\n  public static readonly color_hover: string = \"blue\";\n\n  public static readonly R = 20; // node radius\n\n  public static renderNode(r: Node, active: number, hover: boolean, ctx: CanvasRenderingContext2D): void {\n    ctx.beginPath();\n    ctx.arc(r.x(), r.y(), Library.R, 0, Library.tau);\n    ctx.fillStyle = active === 2 ? Library.color_active2 : active === 1 ? Library.color_active : hover ? Library.color_hover : Library.color_inactive;\n    ctx.fill();\n    ctx.font = \"12px Arial\";\n    ctx.fillStyle = active === 2 ? \"#000000\" : \"#ffffff\";\n    let number = r.i < 10 ? 4 : 7;\n    ctx.fillText(\"\" + r.i, r.x() - number, r.y() + 5);\n  }\n}\n","import {Segment} from \"../model/Segment\";\n\nexport class OldStateChecker {\n\n  old: Segment;\n  veryOld: Segment;\n\n  push(t: Segment): void {\n    this.veryOld = this.old;\n    this.old = t;\n  }\n\n  isRepetition(t: Segment): boolean {\n    return t.equals(this.old) && this.old.equals(this.veryOld);\n  }\n\n  clear(): void {\n    this.old = undefined;\n    this.veryOld = undefined;\n  }\n}\n","import {Node} from \"../model/Node\";\nimport {Library} from \"./Library\";\nimport {State} from \"./State\";\nimport {Graph} from \"../model/Graph\";\n\nexport class RenderUtil {\n\n  private readonly nodes: Node[];\n  private readonly canvas: HTMLCanvasElement;\n  private readonly imageData: ImageData;\n  private readonly state: State;\n  private readonly graph: Graph;\n\n\n  constructor(points: Node[], canvas: HTMLCanvasElement, imageData: ImageData, state: State, graph: Graph) {\n    this.nodes = points;\n    this.canvas = canvas;\n    this.imageData = imageData;\n    this.state = state;\n    this.graph = graph;\n  }\n\n  render(segments: Graph, hover: Node): void {\n    const ctx: CanvasRenderingContext2D = this.canvas.getContext('2d');\n    const s = document.getElementById('segments');\n\n    ctx.putImageData(this.imageData, 0, 0);\n\n    s.innerHTML = \"\";\n\n    segments.forEach(((x, y) => {\n      ctx.beginPath();\n      ctx.strokeStyle = '#faebd7';\n      ctx.lineWidth = 1.5;\n      let a = this.nodes[x];\n      let b = this.nodes[y];\n      const x0 = a.x();\n      const y0 = a.y();\n      const x1 = b.x();\n      const y1 = b.y();\n      ctx.moveTo(x0, y0);\n      ctx.lineTo(x1, y1);\n      ctx.stroke();\n      const div: HTMLElement = document.createElement(\"tr\");\n      div.innerHTML = \"<td>\" + a.i + \"</td><td>\" + b.i + \"</td>\";\n      s.appendChild(div);\n    }));\n    this.renderHover(hover);\n  }\n\n  private renderHover(hover: Node): void {\n    const ctx: CanvasRenderingContext2D = this.canvas.getContext('2d');\n    const active: Node = this.state.activeNode();\n    if (active !== undefined) {\n      Library.renderNode(active, this.state.activeLevel(), false, ctx);\n    }\n    Library.renderNode(hover, active === hover ? this.state.activeLevel() : 0, true, ctx);\n    if (active === undefined) {\n      return;\n    }\n    if (active !== hover) {\n      if (!this.state.deleteMode && !this.graph.hasSegment(active.i, hover.i) ||\n        this.state.deleteMode && this.graph.hasSegment(active.i, hover.i)) {\n        ctx.strokeStyle = this.state.deleteMode ? '#fa2f38' : \"#fdfd54\";\n        ctx.lineWidth = 1.5;\n        const x0 = active.x();\n        const y0 = active.y();\n        const x1 = hover.x();\n        const y1 = hover.y();\n        ctx.moveTo(x0, y0);\n        ctx.lineTo(x1, y1);\n        ctx.stroke();\n      }\n    }\n  }\n}\n","import {Node} from '../model/Node';\nimport {Segment} from \"../model/Segment\";\n\nexport class State {\n\n  deleteMode: boolean = false;\n  private _activeNode: number;\n  private _activeLevel: number = 0;\n  private readonly nodes: Node[];\n\n  constructor(nodes: Node[]) {\n    this.nodes = nodes;\n  }\n\n  activeLevel(): number {\n    return this._activeLevel;\n  }\n\n  setActiveNode(activeNode: Node): void {\n    if (activeNode === undefined) {\n      this._activeNode = undefined;\n      this._activeLevel = 0;\n    }\n    if (this._activeLevel === 0) {\n      this._activeNode = undefined;\n      return;\n    }\n    this._activeNode = activeNode.i;\n  }\n\n  activeNode(): Node {\n    if (this._activeNode === undefined) {\n      return undefined;\n    }\n    return this.nodes[this._activeNode];\n  }\n\n  findLevel(node: Node): number {\n    if (this._activeNode !== node.i) {\n      return 0;\n    }\n    return this._activeLevel;\n  }\n\n  flipYellow(s: Segment): void {\n    const active: Node = this.findLevel(s.a) !== 0 ? s.a : s.b;\n    const inactive: Node = active === s.a ? s.b : s.a;\n    let level = this.findLevel(active);\n    if (level === 0) {\n      return;\n    }\n    if (level === 2) {\n      this._activeNode = inactive.i;\n      return;\n    }\n    this._activeLevel = 2;\n  }\n\n  simpleFlip(s: Segment): void {\n    const active: Node = this.findLevel(s.a) !== 0 ? s.a : s.b;\n    if (this.findLevel(active) !== 1) {\n      return;\n    }\n    const inactive: Node = active === s.a ? s.b : s.a;\n    this._activeNode = inactive.i;\n  }\n\n  incActive(): void {\n    this._activeLevel += 1;\n    this._activeLevel = this._activeLevel % 3;\n    if (this._activeLevel === 0) {\n      this._activeNode = undefined;\n    }\n  }\n\n  maybeDeactivate(): void {\n    if (this._activeLevel === 1) {\n      this._activeLevel = 0;\n      this._activeNode = undefined;\n    }\n  }\n}\n"],"sourceRoot":"webpack:///"}